(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{192:function(e,t,a){e.exports=a(451)},197:function(e,t,a){},198:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},199:function(e,t,a){},260:function(e,t){},262:function(e,t){},294:function(e,t){},295:function(e,t){},360:function(e,t){},451:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),l=a(181),i=a.n(l),r=(a(197),a(198),a(199),a(182)),d=a(183),c=a(190),s=a(184),m=a(191),u=a(185),p=a(71),f=a.n(p),h=a(72),_=a.n(h),g=a(7),b=a(186);function v(){var e=Object(u.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return v=function(){return e},e}var w=a(243),E=(a(167),Object(g.css)(v()));f.a.defaults.baseURL=window.location.protocol+"//"+window.location.hostname+":3000";var x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).singleFileChangedHandler=function(e){a.setState({selectedFile:e.target.files[0]})},a.pdfFileChangedHandler=function(e){a.setState({pdfFile:e.target.files[0]})},a.pdfFileUploadHandler=function(){a.setState({loading:!0});var e=new FormData;a.state.pdfFile?(e.append("pdf",a.state.pdfFile,a.state.pdfFile.name),f.a.post("/api/image/pdf",e,{headers:{"Accept-Language":"en-US,en;q=0.8",accept:"application/json","Content-Type":"multipart/form-data; boundary=".concat(e._boundary),"Access-Control-Allow-Origin":"*"}}).then(function(e){var t=e.data;console.log("filedata",t),a.ocShowAlert("File Uploaded Succesfully","#3089cf"),a.setState({loading:!1,buttonText:"Upload"});var o=e.data.location;a.getOCRDataHandler(o)})):(console.log("Please upload a valid pdf file!"),a.setState({loading:!1}))},a.singleFileUploadHandler=function(){a.setState({loading:!0,buttonText:"Uploading",wordList:""}),a.buttonText="Uploading";var e=new FormData;a.state.selectedFile?(e.append("image",a.state.selectedFile,a.state.selectedFile.name),f.a.post("/api/image/upload",e,{headers:{"Accept-Language":"en-US,en;q=0.8",accept:"application/json","Content-Type":"multipart/form-data; boundary=".concat(e._boundary),"Access-Control-Allow-Origin":"*"}}).then(function(e){if(200===e.status)if(e.data.error)"LIMIT_FILE_SIZE"===e.data.error.code?(a.ocShowAlert("Max size: 2MB","red"),a.setState({loading:!1,buttonText:"Upload"})):(console.log(e.data),a.ocShowAlert(e.data.error,"red"),a.setState({loading:!1,buttonText:"Upload"}));else{var t=e.data;console.log("filedata",t),a.ocShowAlert("File Uploaded Succesfully","#3089cf");var o=e.data.location;a.getOCRDataHandler(o)}}).catch(function(e){a.ocShowAlert(e,"red")})):(a.ocShowAlert("Please upload a valid image file","red"),a.setState({loading:!1,buttonText:"Upload"}))},a.getOCRDataHandler=function(e){var t={uri:"https://eastus.api.cognitive.microsoft.com/vision/v2.0/ocr",qs:{language:"unk",detectOrientation:"true"},body:'{"url": "'+e+'"}',headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":"4464eb0126f3412bb7ebe37d44ea9d9d"}};w.post(t,function(e,t,o){if(e)console.log("Error: ",e);else{console.log(o);var n=JSON.parse(o),l="Extracted Words: ";try{for(var i=0;i<n.regions.length;i++)for(var r=0;r<n.regions[i].lines.length;r++)for(var d=0;d<n.regions[i].lines[r].words.length;d++)l+=n.regions[i].lines[r].words[d].text+", ";"Extracted Words: "===l&&(l+="No words were found!"),a.setState({loading:!1,buttonText:"Upload",wordList:l})}catch(c){l+="No words were found!",a.setState({loading:!1,buttonText:"Upload",wordList:l})}}})},a.ocShowAlert=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#3089cf",a=document.querySelector(".home__alert"),o=document.createElement("div"),n=document.createTextNode(e);o.setAttribute("class","home__alert--pop-up"),_()(o).css("background",t),o.appendChild(n),a.appendChild(o),setTimeout(function(){_()(o).fadeOut("slow"),_()(o).remove()},3e3)},a.state={selectedFile:null,selectedFiles:null,pdfFile:null,loading:!1,buttonText:"",wordList:""},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!1,buttonText:"Upload",wordList:""})}},{key:"render",value:function(){return n.a.createElement("div",{className:"home"},n.a.createElement("div",{className:"home__alert"}),n.a.createElement("div",{className:"card border-light mb-3 mt-5 home__card"},n.a.createElement("div",{className:"home__card__header"},n.a.createElement("h3",{className:"home__card__header--heading"},"Single Image Upload"),n.a.createElement("p",{className:"home__card__header--text"},"Max Upload Size 2mb")),n.a.createElement("div",{className:"home__card__body"},n.a.createElement("p",{className:"home__card__body--text"},"Upload an image with text to be extracted:"),n.a.createElement("input",{className:"home__card__body--fileInput",type:"file",onChange:this.singleFileChangedHandler}),n.a.createElement("div",{className:"mt-5 home__card__submitForm"},n.a.createElement("button",{className:"btn btn-info home__card__submitForm--button",onClick:this.singleFileUploadHandler,disabled:this.state.loading},this.state.buttonText),n.a.createElement("div",{className:"sweet-loading"},n.a.createElement(b.ClipLoader,{css:E,sizeUnit:"px",size:150,color:"#123abc",loading:this.state.loading})),n.a.createElement("div",{className:"home__card__result"},n.a.createElement("h3",{className:"home__card__result--text"},this.state.wordList))))),n.a.createElement("div",{className:"home__pdf"},n.a.createElement("form",{className:"home__pdf__form",encType:"multipart/form-data"},n.a.createElement("p",{className:"home__pdf__form--text"},"Upload a pdf with text in it"),n.a.createElement("input",{className:"home__pdf__form--fileInput",type:"file",name:"pdf",id:"pdf",onChange:this.pdfFileChangedHandler}),n.a.createElement("div",{className:"home__pdf__submitForm"},n.a.createElement("button",{className:"btn btn-info home__pdf__submitForm--button",onClick:this.pdfFileUploadHandler,disabled:this.state.loading},"Upload"),n.a.createElement("div",{className:"home__card__result"},n.a.createElement("h3",{className:"home__card__result--text"},"Result"))))))}}]),t}(o.Component),S=a(187),F=a(35);var N=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(S.a,null,n.a.createElement("div",null,n.a.createElement(F.a,{exact:!0,path:"/",component:x}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[192,1,2]]]);
//# sourceMappingURL=main.a43b44f9.chunk.js.map