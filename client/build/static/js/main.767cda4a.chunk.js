(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{201:function(e,t,a){e.exports=a(461)},206:function(e,t,a){},207:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},208:function(e,t,a){},266:function(e,t){},268:function(e,t){},299:function(e,t){},300:function(e,t){},344:function(e,t){},346:function(e,t){},369:function(e,t){},461:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(190),i=a.n(l),r=(a(206),a(207),a(208),a(191)),c=a(192),d=a(199),s=a(193),m=a(200),u=a(194),p=a(72),f=a.n(p),_=a(73),h=a.n(_),g=a(8),b=a(195);function v(){var e=Object(u.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return v=function(){return e},e}var w=a(252),E=(a(102),Object(g.css)(v()));f.a.defaults.baseURL=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_OCRKEY:"37ca3b701d3844c1b89dc5a950e38db9"}).baseURL||"http://localhost:3000";var S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(s.a)(t).call(this,e))).singleFileChangedHandler=function(e){a.setState({selectedFile:e.target.files[0]})},a.pdfFileChangedHandler=function(e){a.setState({pdfFile:e.target.files[0]})},a.pdfFileUploadHandler=function(){a.setState({loading:!0});var e=new FormData;a.state.pdfFile?(e.append("pdf",a.state.pdfFile,a.state.pdfFile.name),f.a.post("/api/image/pdf",e,{headers:{"Accept-Language":"en-US,en;q=0.8",accept:"application/json","Content-Type":"multipart/form-data; boundary=".concat(e._boundary),"Access-Control-Allow-Origin":"*"}}).then(function(e){e.data;a.ocShowAlert("File Uploaded Succesfully","#3089cf"),a.setState({loading:!1,buttonText:"Upload"});var t=e.data.location;a.getOCRDataHandler(t)}).catch(function(e){console.log(e),a.setState({loading:!1})})):(console.log("Please upload a valid pdf file!"),a.setState({loading:!1}))},a.singleFileUploadHandler=function(){a.setState({loading:!0,buttonText:"Uploading",wordList:""}),a.buttonText="Uploading";var e=new FormData;a.state.selectedFile?(e.append("image",a.state.selectedFile,a.state.selectedFile.name),f.a.post("/api/image/upload",e,{headers:{"Accept-Language":"en-US,en;q=0.8",accept:"application/json","Content-Type":"multipart/form-data; boundary=".concat(e._boundary),"Access-Control-Allow-Origin":"*"}}).then(function(e){if(200===e.status)if(e.data.error)"LIMIT_FILE_SIZE"===e.data.error.code?(a.ocShowAlert("Max size: 2MB","red"),a.setState({loading:!1,buttonText:"Upload"})):(console.log(e.data),a.ocShowAlert(e.data.error,"red"),a.setState({loading:!1,buttonText:"Upload"}));else{var t=e.data;console.log("filedata",t),a.ocShowAlert("File Uploaded Succesfully","#3089cf");var n=e.data.location;a.getOCRDataHandler(n)}}).catch(function(e){a.ocShowAlert(e,"red")})):(a.ocShowAlert("Please upload a valid image file","red"),a.setState({loading:!1,buttonText:"Upload"}))},a.getOCRDataHandler=function(e){var t={uri:"https://eastus.api.cognitive.microsoft.com/vision/v2.0/ocr",qs:{language:"unk",detectOrientation:"true"},body:'{"url": "'+e+'"}',headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":"37ca3b701d3844c1b89dc5a950e38db9"}};w.post(t,function(e,t,n){if(e)console.log("Error: ",e);else{var o=JSON.parse(n),l="Extracted Words: ";try{for(var i=0;i<o.regions.length;i++)for(var r=0;r<o.regions[i].lines.length;r++)for(var c=0;c<o.regions[i].lines[r].words.length;c++)l+=o.regions[i].lines[r].words[c].text+", ";"Extracted Words: "===l&&(l+="No words were found!"),a.setState({loading:!1,buttonText:"Upload",wordList:l})}catch(d){l+="No words were found!",a.setState({loading:!1,buttonText:"Upload",wordList:l})}}})},a.ocShowAlert=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#3089cf",a=document.querySelector(".home__alert"),n=document.createElement("div"),o=document.createTextNode(e);n.setAttribute("class","home__alert--pop-up"),h()(n).css("background",t),n.appendChild(o),a.appendChild(n),setTimeout(function(){h()(n).fadeOut("slow"),h()(n).remove()},3e3)},a.state={selectedFile:null,selectedFiles:null,pdfFile:null,loading:!1,buttonText:"",wordList:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!1,buttonText:"Upload",wordList:""})}},{key:"render",value:function(){return o.a.createElement("div",{className:"home"},o.a.createElement("div",{className:"home__alert"}),o.a.createElement("div",{className:"card border-light mb-3 mt-5 home__card"},o.a.createElement("div",{className:"home__card__header"},o.a.createElement("h3",{className:"home__card__header--heading"},"Single Image Upload"),o.a.createElement("p",{className:"home__card__header--text"},"Max Upload Size 2mb")),o.a.createElement("div",{className:"home__card__body"},o.a.createElement("p",{className:"home__card__body--text"},"Upload an image with text to be extracted:"),o.a.createElement("input",{className:"home__card__body--fileInput",type:"file",onChange:this.singleFileChangedHandler}),o.a.createElement("div",{className:"mt-5 home__card__submitForm"},o.a.createElement("button",{className:"btn btn-info home__card__submitForm--button",onClick:this.singleFileUploadHandler,disabled:this.state.loading},this.state.buttonText),o.a.createElement("div",{className:"sweet-loading"},o.a.createElement(b.ClipLoader,{css:E,sizeUnit:"px",size:150,color:"#123abc",loading:this.state.loading})),o.a.createElement("div",{className:"home__card__result"},o.a.createElement("h3",{className:"home__card__result--text"},this.state.wordList))))),o.a.createElement("div",{className:"home__pdf"},o.a.createElement("form",{className:"home__pdf__form",encType:"multipart/form-data"},o.a.createElement("p",{className:"home__pdf__form--text"},"Upload a pdf with text in it"),o.a.createElement("input",{className:"home__pdf__form--fileInput",type:"file",name:"pdf",id:"pdf",onChange:this.pdfFileChangedHandler}),o.a.createElement("div",{className:"home__pdf__submitForm"},o.a.createElement("button",{className:"btn btn-info home__pdf__submitForm--button",onClick:this.pdfFileUploadHandler,disabled:this.state.loading},"Upload"),o.a.createElement("div",{className:"home__card__result"},o.a.createElement("h3",{className:"home__card__result--text"},"Result"))))))}}]),t}(n.Component),x=a(196),N=a(37);var F=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(x.a,null,o.a.createElement("div",null,o.a.createElement(N.a,{exact:!0,path:"/",component:S}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(460).config(),i.a.render(o.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[201,1,2]]]);
//# sourceMappingURL=main.767cda4a.chunk.js.map